<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì½”ì¼“ë°°ì†¡ - ê°€ìœ„ë°”ìœ„ë³´ ë°°í‹€</title>
  <style>
    * { box-sizing: border-box; }
    body { margin: 0; font-family: 'Arial', sans-serif; }
    .screen {
      display: none;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      min-height: 100vh;
      text-align: center;
      padding: 20px;
    }
    /* ì¸íŠ¸ë¡œ í…ìŠ¤íŠ¸ */
    #intro-text { display: flex; background-color: #fff; color: #333; }
    #intro-text h1 { font-size: 28px; margin-bottom: 10px; }
    #intro-text p { margin: 5px 0; font-size: 20px; }
    #begin-btn { margin-top: 20px; padding: 15px 30px; font-size: 22px; background-color: #4CAF50; color: #fff; border: none; border-radius: 10px; cursor: pointer; }

    /* ê²Œì„ í™”ë©´ */
    #game {
      background: url('1.png') no-repeat center center fixed;
      background-size: cover;
      color: #fff;
      font-weight: bold;
      text-shadow: 1px 1px 3px #000;
      position: relative;
    }
    #status { font-size: 24px; margin-bottom: 10px; }
    #computer-choice { font-size: 86px; margin-bottom: 10px; }
    #game h1 { font-size: 32px; margin: 10px; }
    button.choice {
      padding: 15px 30px;
      margin: 10px;
      font-size: 24px;
      background: rgba(255,255,255,0.85);
      color: #333;
      border: 2px solid #ff9900;
      border-radius: 12px;
      cursor: pointer;
      width: 150px;
      font-weight: bold;
    }
    button.choice:hover { background: #fff2cc; }
    #result { font-size: 28px; margin-top: 20px; padding: 0 10px; }

    /* ê²Œì„ í™”ë©´ ìƒë‹¨ í¬ë ˆë”§ */
    .game-credit {
      position: absolute;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      text-align: center;
      font-size: 14px;
      color: #fff;
      text-shadow: 1px 1px 2px #000;
      line-height: 1.4;
    }
    .game-credit a {
      color: #ffdd57;
      text-decoration: underline;
    }

    /* ê²Œì„ ì˜¤ë²„ í™”ë©´ */
    #game-over {
      background: url('c64f34b4-4113-4509-9745-96f0b3ae6592.png') no-repeat center center fixed;
      background-size: cover;
      color: #fff;
      text-shadow: 1px 1px 3px #000;
    }
    #game-over h1 { font-size: 32px; margin-bottom: 10px; }
    #game-over p { font-size: 22px; margin: 5px 0; }
    #restart-btn { margin-top: 20px; padding: 12px 28px; font-size: 22px; background-color: #ff99cc; color: #fff; border: none; border-radius: 10px; cursor: pointer; }
  </style>
</head>
<body>

  <!-- 1) ì¸íŠ¸ë¡œ í™”ë©´ -->
  <div id="intro-text" class="screen">
    <div>
      <h1>â¤ï¸ì½”ì¼“ë°°ì†¡ ê°€ìœ„ë°”ìœ„ë³´ ë°°í‹€âœŠâœŒï¸ğŸ–ï¸</h1>
      <p>ì»´í“¨í„°ì™€ ê°€ìœ„, ë°”ìœ„, ë³´ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ì„¸ìš”!</p>
      <p>ìŠ¹ë¦¬ëŠ” ì ìˆ˜ +1, íŒ¨ë°°ëŠ” ëª©ìˆ¨ -1.</p>
      <p>ë¬´ìŠ¹ë¶€ëŠ” ë³€í™” ì—†ìŒ.</p>
      <p>ì—°ì† 3ë²ˆ ìŠ¹ë¦¬ ì‹œ ëª©ìˆ¨ +1!</p>
      <p>Â© 2025 ì½”ì¼“ê²Œì„ì¦ˆ. All rights reserved.</p>
      <p>ìœ íŠœë¸Œ 'ê±¸ì½”_Gulko' ì €ì‘ê¶Œ ì½˜í…ì¸ ì…ë‹ˆë‹¤.</p>
      <p><a href="https://www.youtube.com/@Gulko" target="_blank">https://www.youtube.com/@Gulko</a></p>
      <button id="begin-btn">ê²Œì„ ì‹œì‘</button>
    </div>
  </div>

  <!-- 2) ê²Œì„ í™”ë©´ -->
  <div id="game" class="screen">
    <!-- ìƒë‹¨ í¬ë ˆë”§ -->
    <div class="game-credit">
      <p>ê±¸ì½”_Gulkoì €ì‘ê¶Œ ì½˜í…ì¸ ì…ë‹ˆë‹¤. <a href="https://www.youtube.com/@Gulko" target="_blank">https://www.youtube.com/@Gulko</a></p>
    </div>
    <div id="status">
      Score: <span id="score">0</span> | 
      Lives: <span id="lives">5</span>
    </div>
    <div id="computer-choice">?</div>
    <h1>ê°€ìœ„ë°”ìœ„ë³´ ë°°í‹€!</h1>
    <p>ì»´í“¨í„°ì™€ ê°€ìœ„, ë°”ìœ„, ë³´ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ì„¸ìš”.</p>
    <div>
      <button class="choice" onclick="play('ê°€ìœ„')">âœŒï¸ê°€ìœ„</button>
      <button class="choice" onclick="play('ë°”ìœ„')">ğŸ‘Šë°”ìœ„</button>
      <button class="choice" onclick="play('ë³´')">ğŸ–ï¸ë³´</button>
    </div>
    <p id="result"></p>
  </div>

  <!-- 3) ê²Œì„ ì˜¤ë²„ í™”ë©´ -->
  <div id="game-over" class="screen">
    <h1>ê²Œì„ ì˜¤ë²„! ğŸ˜¢</h1>
    <p>ìµœì¢… ì ìˆ˜: <span id="final-score">0</span></p>
    <p>ì½”íŒ¡ êµ¬ì…ì€ ê±¸ì½”ì™€ í•¨ê»˜</p>
    <p><a href="https://www.youtube.com/@Gulko" target="_blank">https://www.youtube.com/@Gulko</a></p>
    <p>ì‚¬ë‘í•©ë‹ˆë‹¤. ê³ ê°ë‹˜</p>
    <button id="restart-btn">ë‹¤ì‹œ ì‹œì‘</button>
  </div>

  <!-- ì˜¤ë””ì˜¤ -->
  <audio id="correct-sound" src="1.mp3" preload="auto"></audio>
  <audio id="wrong-sound" src="2.mp3" preload="auto"></audio>
  <audio id="tie-sound" src="3.mp3" preload="auto"></audio>
  <audio id="bonus-sound" src="bonus.mp3" preload="auto"></audio>
  <audio id="bgm" src="bgm.mp3" loop preload="auto"></audio>

  <script>
    let lives = 5;
    let score = 0;
    let consecutiveWins = 0;

    const choices = ['ê°€ìœ„','ë°”ìœ„','ë³´'];
    const emojis = { 'ê°€ìœ„': 'âœŒï¸', 'ë°”ìœ„': 'ğŸ‘Š', 'ë³´': 'ğŸ–ï¸' };

    window.onload = () => {
      showScreen('intro-text');
    };

    document.getElementById('begin-btn').addEventListener('click', () => {
      showScreen('game');
      const bgm = document.getElementById('bgm');
      bgm.volume = 0.7; // ë°°ê²½ìŒì•… ë³¼ë¥¨ 70%
      bgm.play();
      updateStatus();
    });

    // ì¤‘ì²© ì¬ìƒì„ ìœ„í•œ ì‚¬ìš´ë“œ ì¬ìƒ í•¨ìˆ˜
    function playSound(id) {
      const original = document.getElementById(id);
      const sound = original.cloneNode();
      sound.volume = original.volume;
      sound.play();
    }

    function play(userChoice) {
      if (lives <= 0) return;

      const computerChoice = choices[Math.floor(Math.random() * choices.length)];
      document.getElementById('computer-choice').textContent = emojis[computerChoice];

      const resultEl = document.getElementById('result');

      if (userChoice === computerChoice) {
        consecutiveWins = 0;
        resultEl.textContent = `ğŸ¤ ë¬´ìŠ¹ë¶€! ì»´í“¨í„°ë„ ${computerChoice}.`;
        resultEl.style.color = '#fff';
        playSound('tie-sound');
      } else if (
        (userChoice === 'ê°€ìœ„' && computerChoice === 'ë³´') ||
        (userChoice === 'ë°”ìœ„' && computerChoice === 'ê°€ìœ„') ||
        (userChoice === 'ë³´' && computerChoice === 'ë°”ìœ„')
      ) {
        score++;
        consecutiveWins++;
        resultEl.textContent = `ğŸ‰ ìŠ¹ë¦¬! ë‹¹ì‹ : ${userChoice}, ì»´í“¨í„°: ${computerChoice}.`;
        resultEl.style.color = '#fff';
        playSound('correct-sound');

        if (consecutiveWins >= 3) {
          lives++;
          playSound('bonus-sound');
          consecutiveWins = 0;
        }

        updateStatus();
      } else {
        lives--;
        consecutiveWins = 0;
        resultEl.textContent = `ğŸ˜¢ íŒ¨ë°°! ë‹¹ì‹ : ${userChoice}, ì»´í“¨í„°: ${computerChoice}.`;
        resultEl.style.color = 'red';
        playSound('wrong-sound');
        updateStatus();

        if (lives <= 0) {
          document.getElementById('final-score').textContent = score;
          showScreen('game-over');
        }
      }
    }

    document.getElementById('restart-btn').addEventListener('click', () => {
      location.reload();
    });

    function updateStatus() {
      document.getElementById('score').textContent = score;
      document.getElementById('lives').textContent = lives;
    }

    function showScreen(id) {
      ['intro-text','game','game-over'].forEach(key => {
        document.getElementById(key).style.display = (key === id ? 'flex' : 'none');
      });
    }
  </script>
</body>
</html>